!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueMusicPlayerButton=e():t.VueMusicPlayerButton=e()}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var a=o[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};return e.m=t,e.c=o,e.p="/dist/",e(0)}([function(t,e,o){var i,a;i=o(1),a=o(2),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e){"use strict";if(Object.defineProperty(e,"__esModule",{value:!0}),!window.Smart)throw"VueMusicPlayerButton required smart.js";var o,i=window.Smart,a=i.Sound,n=i.Event;i._;e["default"]={props:{autoPlay:{type:Boolean,"default":!1},src:{type:String,"default":""},loop:{type:Boolean,"default":!0},mp3:{type:String,"default":""}},data:function(){return{music:null,playing:!1,wechatShare:!1,autoPlayTouchTime:0}},watch:{playing:function(t,e){this.$emit("update-state",this.playing)}},methods:{syncState:function(){this.playing=this.music.playing()},swapSound:function(){this.playing?this.autoPlayTouchTime<=(new Date).getTime()-800?this.music.pause():this.autoPlayTouchTime=0:this.music.play(),this.syncState()},fixAutoPlay:function(){var t=this;if(this.wechatShare){var e=new o;e.playSound(this.music,function(e){if(t.syncState(),!e)var o=function(){t.autoPlayTouchTime=(new Date).getTime(),t.music.play(),t.syncState(),i()},i=n.windowEvent("touchstart",o)})}else t.music.play(),t.syncState()}},computed:{},ready:function(){("undefined"!=typeof WechatShare||window.WechatShare)&&(o=WechatShare||window.WechatShare),this.music=new a({path:this.src,loop:this.loop}),o&&(this.wechatShare=!0),this.autoPlay&&this.fixAutoPlay()}}},function(t,e){t.exports=" <div @click=swapSound> <div v-show=playing> <slot name=on></slot> </div> <div v-show=!playing> <slot name=off></slot> </div> </div> "}])});
//# sourceMappingURL=vue-music-player-button.js.map